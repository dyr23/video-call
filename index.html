<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>手动校准交互树</title>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; background: #000; overflow: hidden; }
        .slider-label { color: white; font-size: 10px; margin-bottom: 2px; text-transform: uppercase; letter-spacing: 1px; }
        #canvas-ui { position: absolute; top: 10px; right: 10px; width: 60px; height: 80px; border: 1px solid #333; transform: scaleX(-1); }
    </style>
</head>
<body>
    <div class="absolute bottom-10 left-0 w-full px-10 z-[300] space-y-4">
        <div>
            <div class="slider-label">调节树的大小 (Size)</div>
            <input type="range" id="size-slider" min="0.1" max="1.5" step="0.05" value="0.5" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-green-500">
        </div>
        <div>
            <div class="slider-label">调节转速 (Speed)</div>
            <input type="range" id="speed-slider" min="1" max="100" step="1" value="10" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500">
        </div>
        <button onclick="document.getElementById('overlay').remove(); start();" id="start-btn" class="w-full py-3 bg-white text-black font-bold rounded-lg text-sm">点击开始并进入调试</button>
    </div>

    <div id="overlay" class="fixed inset-0 bg-black z-[400] flex items-center justify-center text-white">点击下方按钮开始</div>

    <canvas id="canvas-ui"></canvas>
    <video id="input-video" style="display:none"></video>

    <script>
        let scene, camera, renderer, treeGroup, lastX = null;
        let targetRotation = 0;
        let currentRotation = 0;
        let sensitivity = 10;

        function init3D() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.set(0, 2, 8); 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            scene.add(new THREE.AmbientLight(0xffffff, 1.5));
            
            treeGroup = new THREE.Group();
            
            // 圣诞树模型
            const trunk = new
